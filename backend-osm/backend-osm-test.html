<html>
<head>
<title>Debug OSM backend of WorldMapWidget2</title>
<script type="text/javascript" src="http://www.openlayers.org/api/OpenLayers.js"></script>
<script type="text/javascript" src="http://www.openstreetmap.org/openlayers/OpenStreetMap.js"></script>
<script type="text/javascript">
var debugTextField;
var codeTextField;
function runMyScript() {
    var myCode = codeTextField.value;

    eval(myCode);
}
function wmwDebugHook(debugString) {
    debugTextField.value = debugString + '\n' + debugTextField.value;
}
function clearDebugTextField() {
    debugTextField.value = '';
}
function initializeDebug() {
    debugTextField = document.getElementById("debugoutput");
    codeTextField = document.getElementById("codetorun");

    clearDebugTextField();

    wmwDebugHook('-- Initializing OSM backend');

    initialize();

    wmwDebugHook('-- OSM backend initialized');
}
</script>
<script type="text/javascript" src="backend-osm-js.js"></script>
</head>
<body onload="initializeDebug()">

<div id="map_canvas" style="width:700px; height:400px; border: 1px solid black;"></div>

<br>

<form>
    Run code: <input type="button" value="Run!" onclick="runMyScript();"/><br>
    <textarea rows="3" cols="80" id="codetorun"></textarea>
</form>

<br>

<form>    
    Debug output: <input type="button" value="Clear" onclick="clearDebugTextField();"><br>
    <textarea rows="15" cols="80" id="debugoutput"></textarea>
</form>

</body>
</html>
